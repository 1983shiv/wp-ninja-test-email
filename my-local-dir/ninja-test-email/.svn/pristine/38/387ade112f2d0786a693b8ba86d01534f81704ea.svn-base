/*! For license information please see admin.js.LICENSE.txt */
(()=>{"use strict";var n={20:(n,e,t)=>{var i=t(594),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(n,e,t){var i,s={},l=null,u=null;for(i in void 0!==t&&(l=""+t),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(u=e.ref),e)a.call(e,i)&&!c.hasOwnProperty(i)&&(s[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps)void 0===s[i]&&(s[i]=e[i]);return{$$typeof:r,type:n,key:l,ref:u,props:s,_owner:o.current}}e.Fragment=s,e.jsx=l,e.jsxs=l},206:n=>{n.exports=ReactDOM},338:(n,e,t)=>{var i=t(206);e.H=i.createRoot,i.hydrateRoot},594:n=>{n.exports=React},848:(n,e,t)=>{n.exports=t(20)}},e={};function t(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return n[i](s,s.exports,t),s.exports}var i=t(594),r=t(338),s=t(848);function a(n){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},a(n)}function o(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,i)}return t}function c(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach(function(e){l(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function l(n,e,t){return(e=function(n){var e=function(n){if("object"!=a(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=a(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==a(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function u(){var n,e,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function s(t,i,r,s){var c=i&&i.prototype instanceof o?i:o,l=Object.create(c.prototype);return d(l,"_invoke",function(t,i,r){var s,o,c,l=0,u=r||[],d=!1,m={p:0,n:0,v:n,a:x,f:x.bind(n,4),d:function(e,t){return s=e,o=0,c=n,m.n=t,a}};function x(t,i){for(o=t,c=i,e=0;!d&&l&&!r&&e<u.length;e++){var r,s=u[e],x=m.p,f=s[2];t>3?(r=f===i)&&(c=s[(o=s[4])?5:(o=3,3)],s[4]=s[5]=n):s[0]<=x&&((r=t<2&&x<s[1])?(o=0,m.v=i,m.n=s[1]):x<f&&(r=t<3||s[0]>i||i>f)&&(s[4]=t,s[5]=i,m.n=f,o=0))}if(r||t>1)return a;throw d=!0,i}return function(r,u,f){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&x(u,f),o=u,c=f;(e=o<2?n:c)||!d;){s||(o?o<3?(o>1&&(m.n=-1),x(o,c)):m.n=c:m.v=c);try{if(l=2,s){if(o||(r="next"),e=s[r]){if(!(e=e.call(s,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,o<2&&(o=0)}else 1===o&&(e=s.return)&&e.call(s),o<2&&(c=TypeError("The iterator does not provide a '"+r+"' method"),o=1);s=n}else if((e=(d=m.n<0)?c:t.call(i,m))!==a)break}catch(e){s=n,o=1,c=e}finally{l=1}}return{value:e,done:d}}}(t,r,s),!0),l}var a={};function o(){}function c(){}function l(){}e=Object.getPrototypeOf;var m=[][i]?e(e([][i]())):(d(e={},i,function(){return this}),e),x=l.prototype=o.prototype=Object.create(m);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,l):(n.__proto__=l,d(n,r,"GeneratorFunction")),n.prototype=Object.create(x),n}return c.prototype=l,d(x,"constructor",l),d(l,"constructor",c),c.displayName="GeneratorFunction",d(l,r,"GeneratorFunction"),d(x),d(x,r,"Generator"),d(x,i,function(){return this}),d(x,"toString",function(){return"[object Generator]"}),(u=function(){return{w:s,m:f}})()}function d(n,e,t,i){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}d=function(n,e,t,i){function s(e,t){d(n,e,function(n){return this._invoke(e,t,n)})}e?r?r(n,e,{value:t,enumerable:!i,configurable:!i,writable:!i}):n[e]=t:(s("next",0),s("throw",1),s("return",2))},d(n,e,t,i)}function m(n,e,t,i,r,s,a){try{var o=n[s](a),c=o.value}catch(n){return void t(n)}o.done?e(c):Promise.resolve(c).then(i,r)}function x(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function a(n){m(s,i,r,a,o,"next",n)}function o(n){m(s,i,r,a,o,"throw",n)}a(void 0)})}}function f(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var i,r,s,a,o=[],c=!0,l=!1;try{if(s=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);c=!0);}catch(n){l=!0,r=n}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw r}}return o}}(n,e)||function(n,e){if(n){if("string"==typeof n)return p(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}var g=function(n){var e=n.restUrl,t=n.nonce,r=f((0,i.useState)([]),2),a=r[0],o=r[1],c=f((0,i.useState)(!0),2),l=c[0],d=c[1],m=f((0,i.useState)(""),2),p=m[0],g=m[1],h=f((0,i.useState)(""),2),b=h[0],y=h[1],j=f((0,i.useState)("time"),2),v=j[0],N=j[1],w=f((0,i.useState)("DESC"),2),S=w[0],k=w[1],O=f((0,i.useState)(1),2),E=O[0],P=O[1],T=f((0,i.useState)(1),2),C=T[0],_=T[1],A=f((0,i.useState)(10),1)[0],D=f((0,i.useState)(null),2),L=D[0],R=D[1],W=f((0,i.useState)(!1),2),F=W[0],I=W[1],M=f((0,i.useState)(""),2),U=M[0],X=M[1];(0,i.useEffect)(function(){var n=setTimeout(function(){y(p),P(1)},500);return function(){return clearTimeout(n)}},[p]),(0,i.useEffect)(function(){G()},[b,v,S,E]);var G=function(){var n=x(u().m(function n(){var i,r,s,a;return u().w(function(n){for(;;)switch(n.p=n.n){case 0:return d(!0),n.p=1,i=new URLSearchParams({search:b,orderby:v,order:S,page:E,per_page:A}),n.n=2,fetch("".concat(e,"/logs?").concat(i),{headers:{"X-WP-Nonce":t}});case 2:return r=n.v,n.n=3,r.json();case 3:(s=n.v).success&&(o(s.logs||[]),_(s.total_pages||1)),n.n=5;break;case 4:n.p=4,a=n.v,console.error("Error fetching logs:",a),X("Error loading logs");case 5:return n.p=5,d(!1),n.f(5);case 6:return n.a(2)}},n,null,[[1,4,5,6]])}));return function(){return n.apply(this,arguments)}}(),H=function(n){v===n?k("ASC"===S?"DESC":"ASC"):(N(n),k("DESC")),P(1)},J=function(){var n=x(u().m(function n(i){var r,s;return u().w(function(n){for(;;)switch(n.p=n.n){case 0:if(confirm("Are you sure you want to delete this log?")){n.n=1;break}return n.a(2);case 1:return n.p=1,n.n=2,fetch("".concat(e,"/logs/").concat(i),{method:"DELETE",headers:{"X-WP-Nonce":t}});case 2:return r=n.v,n.n=3,r.json();case 3:n.v.success&&(X("Log deleted successfully"),G(),setTimeout(function(){return X("")},3e3)),n.n=5;break;case 4:n.p=4,s=n.v,console.error("Error deleting log:",s),X("Error deleting log");case 5:return n.a(2)}},n,null,[[1,4]])}));return function(e){return n.apply(this,arguments)}}(),B=function(){I(!1),R(null)},$=function(n){var e=n.column;return v!==e?(0,s.jsx)("span",{className:"nin-text-gray-400",children:"â†•"}):(0,s.jsx)("span",{className:"nin-text-blue-600",children:"ASC"===S?"â†‘":"â†“"})};return l?(0,s.jsx)("div",{className:"nin-flex nin-justify-center nin-items-center nin-p-8",children:(0,s.jsx)("div",{className:"nin-text-lg",children:"Loading logs..."})}):(0,s.jsxs)("div",{className:"nin-max-w-7xl nin-mx-auto nin-p-6",children:[(0,s.jsxs)("div",{className:"nin-mb-8",children:[(0,s.jsx)("h2",{className:"nin-text-2xl nin-font-bold nin-text-gray-800",children:"Email Logs"}),(0,s.jsx)("p",{className:"nin-text-gray-600 nin-mt-2",children:"View all logged outgoing emails from your WordPress site"})]}),U&&(0,s.jsx)("div",{className:"nin-mb-4 nin-p-4 nin-bg-green-100 nin-border nin-border-green-400 nin-text-green-700 nin-rounded",children:U}),(0,s.jsx)("div",{className:"nin-mb-4",children:(0,s.jsx)("input",{type:"text",value:p,onChange:function(n){g(n.target.value)},placeholder:"Search by recipient, subject, or body...",className:"nin-w-full nin-px-4 nin-py-2 nin-border nin-border-gray-300 nin-rounded-lg focus:nin-outline-none focus:nin-ring-2 focus:nin-ring-blue-500"})}),(0,s.jsx)("div",{className:"nin-bg-white nin-shadow nin-rounded-lg nin-overflow-hidden",children:0===a.length?(0,s.jsxs)("div",{className:"nin-p-8 nin-text-center nin-text-gray-500",children:[(0,s.jsx)("p",{className:"nin-text-lg",children:"No email logs found"}),(0,s.jsx)("p",{className:"nin-text-sm nin-mt-2",children:"Send a test email to see logs appear here"})]}):(0,s.jsx)("div",{className:"nin-overflow-x-auto",children:(0,s.jsxs)("table",{className:"nin-min-w-full nin-divide-y nin-divide-gray-200",children:[(0,s.jsx)("thead",{className:"nin-bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsxs)("th",{onClick:function(){return H("time")},className:"nin-px-6 nin-py-3 nin-text-left nin-text-xs nin-font-medium nin-text-gray-500 nin-uppercase nin-tracking-wider nin-cursor-pointer hover:nin-bg-gray-100",children:["Time ",(0,s.jsx)($,{column:"time"})]}),(0,s.jsxs)("th",{onClick:function(){return H("to_email")},className:"nin-px-6 nin-py-3 nin-text-left nin-text-xs nin-font-medium nin-text-gray-500 nin-uppercase nin-tracking-wider nin-cursor-pointer hover:nin-bg-gray-100",children:["To ",(0,s.jsx)($,{column:"to_email"})]}),(0,s.jsxs)("th",{onClick:function(){return H("subject")},className:"nin-px-6 nin-py-3 nin-text-left nin-text-xs nin-font-medium nin-text-gray-500 nin-uppercase nin-tracking-wider nin-cursor-pointer hover:nin-bg-gray-100",children:["Subject ",(0,s.jsx)($,{column:"subject"})]}),(0,s.jsxs)("th",{onClick:function(){return H("status")},className:"nin-px-6 nin-py-3 nin-text-left nin-text-xs nin-font-medium nin-text-gray-500 nin-uppercase nin-tracking-wider nin-cursor-pointer hover:nin-bg-gray-100",children:["Status ",(0,s.jsx)($,{column:"status"})]}),(0,s.jsx)("th",{className:"nin-px-6 nin-py-3 nin-text-right nin-text-xs nin-font-medium nin-text-gray-500 nin-uppercase nin-tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"nin-bg-white nin-divide-y nin-divide-gray-200",children:a.map(function(n){return(0,s.jsxs)("tr",{className:"hover:nin-bg-gray-50",children:[(0,s.jsx)("td",{className:"nin-px-6 nin-py-4 nin-whitespace-nowrap nin-text-sm nin-text-gray-900",children:n.time}),(0,s.jsx)("td",{className:"nin-px-6 nin-py-4 nin-whitespace-nowrap nin-text-sm nin-text-gray-900",children:n.to_email}),(0,s.jsx)("td",{className:"nin-px-6 nin-py-4 nin-text-sm nin-text-gray-900",children:n.subject.length>50?n.subject.substring(0,50)+"...":n.subject}),(0,s.jsx)("td",{className:"nin-px-6 nin-py-4 nin-whitespace-nowrap",children:(0,s.jsx)("span",{className:"nin-px-2 nin-inline-flex nin-text-xs nin-leading-5 nin-font-semibold nin-rounded-full nin-bg-green-100 nin-text-green-800",children:n.status})}),(0,s.jsxs)("td",{className:"nin-px-6 nin-py-4 nin-whitespace-nowrap nin-text-right nin-text-sm nin-font-medium",children:[(0,s.jsx)("button",{onClick:function(){return function(n){R(n),I(!0)}(n)},className:"nin-text-blue-600 hover:nin-text-blue-900 nin-mr-4",children:"View"}),(0,s.jsx)("button",{onClick:function(){return J(n.id)},className:"nin-text-red-600 hover:nin-text-red-900",children:"Delete"})]})]},n.id)})})]})})}),C>1&&(0,s.jsxs)("div",{className:"nin-mt-4 nin-flex nin-justify-between nin-items-center",children:[(0,s.jsxs)("div",{className:"nin-text-sm nin-text-gray-700",children:["Page ",E," of ",C]}),(0,s.jsxs)("div",{className:"nin-flex nin-gap-2",children:[(0,s.jsx)("button",{onClick:function(){return P(function(n){return Math.max(1,n-1)})},disabled:1===E,className:"nin-px-4 nin-py-2 nin-border nin-border-gray-300 nin-rounded nin-bg-white hover:nin-bg-gray-50 disabled:nin-opacity-50 disabled:nin-cursor-not-allowed",children:"Previous"}),(0,s.jsx)("button",{onClick:function(){return P(function(n){return Math.min(C,n+1)})},disabled:E===C,className:"nin-px-4 nin-py-2 nin-border nin-border-gray-300 nin-rounded nin-bg-white hover:nin-bg-gray-50 disabled:nin-opacity-50 disabled:nin-cursor-not-allowed",children:"Next"})]})]}),F&&L&&(0,s.jsx)("div",{className:"nin-fixed nin-inset-0 nin-bg-black nin-bg-opacity-50 nin-flex nin-items-center nin-justify-center nin-z-50",onClick:B,children:(0,s.jsxs)("div",{className:"nin-bg-white nin-rounded-lg nin-p-6 nin-max-w-3xl nin-w-full nin-mx-4 nin-max-h-[90vh] nin-overflow-y-auto",onClick:function(n){return n.stopPropagation()},children:[(0,s.jsxs)("div",{className:"nin-flex nin-justify-between nin-items-start nin-mb-4",children:[(0,s.jsx)("h3",{className:"nin-text-xl nin-font-bold nin-text-gray-800",children:"Email Details"}),(0,s.jsx)("button",{onClick:B,className:"nin-text-gray-400 hover:nin-text-gray-600 nin-text-2xl nin-leading-none",children:"Ã—"})]}),(0,s.jsxs)("div",{className:"nin-space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"nin-block nin-text-sm nin-font-medium nin-text-gray-700 nin-mb-1",children:"Time"}),(0,s.jsx)("div",{className:"nin-text-gray-900",children:L.time})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"nin-block nin-text-sm nin-font-medium nin-text-gray-700 nin-mb-1",children:"To"}),(0,s.jsx)("div",{className:"nin-text-gray-900",children:L.to_email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"nin-block nin-text-sm nin-font-medium nin-text-gray-700 nin-mb-1",children:"Subject"}),(0,s.jsx)("div",{className:"nin-text-gray-900",children:L.subject})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"nin-block nin-text-sm nin-font-medium nin-text-gray-700 nin-mb-1",children:"Status"}),(0,s.jsx)("span",{className:"nin-px-2 nin-inline-flex nin-text-xs nin-leading-5 nin-font-semibold nin-rounded-full nin-bg-green-100 nin-text-green-800",children:L.status})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"nin-block nin-text-sm nin-font-medium nin-text-gray-700 nin-mb-1",children:"Email Body"}),(0,s.jsx)("div",{className:"nin-bg-gray-50 nin-p-4 nin-rounded nin-border nin-border-gray-200 nin-max-h-96 nin-overflow-y-auto nin-text-sm nin-text-gray-900",children:L.body.includes("<")&&L.body.includes(">")?(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:L.body}}):(0,s.jsx)("div",{className:"nin-whitespace-pre-wrap",children:L.body})})]})]}),(0,s.jsx)("div",{className:"nin-mt-6 nin-flex nin-justify-end",children:(0,s.jsx)("button",{onClick:B,className:"nin-px-4 nin-py-2 nin-bg-blue-600 nin-text-white nin-rounded hover:nin-bg-blue-700",children:"Close"})})]})})]})};const h=function(){var n=f((0,i.useState)({}),2),e=n[0],t=n[1],r=f((0,i.useState)(!0),2),a=r[0],o=r[1],l=f((0,i.useState)(""),2),d=l[0],m=l[1],p=f((0,i.useState)({total:0,today:0,week:0,month:0}),2),h=p[0],b=p[1],y=f((0,i.useState)({to:"",subject:"",message:"",format:"text"}),2),j=y[0],v=y[1],N=f((0,i.useState)(!1),2),w=N[0],S=N[1],k=window.ninjaemailtestAdmin||{},O=k.restUrl,E=k.nonce,P=k.currentPage;(0,i.useEffect)(function(){C(),T(),window.ninjaemailtestAdmin&&window.ninjaemailtestAdmin.userEmail&&v(function(n){return c(c({},n),{},{to:window.ninjaemailtestAdmin.userEmail})})},[]);var T=function(){var n=x(u().m(function n(){var e,t,i;return u().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,fetch("".concat(O,"/logs/stats"),{headers:{"X-WP-Nonce":E}});case 1:return e=n.v,n.n=2,e.json();case 2:(t=n.v).success&&t.stats&&b(t.stats),n.n=4;break;case 3:n.p=3,i=n.v,console.error("Error fetching log stats:",i);case 4:return n.a(2)}},n,null,[[0,3]])}));return function(){return n.apply(this,arguments)}}(),C=function(){var n=x(u().m(function n(){var e,i,r;return u().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,fetch("".concat(O,"/admin/settings"),{headers:{"X-WP-Nonce":E}});case 1:return e=n.v,n.n=2,e.json();case 2:(i=n.v).success&&t(i.settings),n.n=4;break;case 3:n.p=3,r=n.v,console.error("Error fetching settings:",r);case 4:return n.p=4,o(!1),n.f(4);case 5:return n.a(2)}},n,null,[[0,3,4,5]])}));return function(){return n.apply(this,arguments)}}(),_=function(){var n=x(u().m(function n(){var t,i;return u().w(function(n){for(;;)switch(n.p=n.n){case 0:return o(!0),n.p=1,n.n=2,fetch("".concat(O,"/admin/settings"),{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":E},body:JSON.stringify(e)});case 2:return t=n.v,n.n=3,t.json();case 3:n.v.success&&(m("Settings saved successfully!"),setTimeout(function(){return m("")},3e3)),n.n=5;break;case 4:n.p=4,i=n.v,console.error("Error saving settings:",i),m("Error saving settings");case 5:return n.p=5,o(!1),n.f(5);case 6:return n.a(2)}},n,null,[[1,4,5,6]])}));return function(){return n.apply(this,arguments)}}(),A=function(){var n=x(u().m(function n(e){var t,i;return u().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,fetch("".concat(O,"/admin/settings"),{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":E},body:JSON.stringify(e)});case 1:return t=n.v,n.n=2,t.json();case 2:n.v.success&&(m("Settings updated!"),setTimeout(function(){return m("")},2e3)),n.n=4;break;case 3:n.p=3,i=n.v,console.error("Error saving settings:",i),m("Error saving settings");case 4:return n.a(2)}},n,null,[[0,3]])}));return function(e){return n.apply(this,arguments)}}(),D=function(){var n=x(u().m(function n(e){var t,i,r;return u().w(function(n){for(;;)switch(n.p=n.n){case 0:return e.preventDefault(),S(!0),m(""),n.p=1,n.n=2,fetch("".concat(O,"/test-email"),{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":E},body:JSON.stringify(j)});case 2:return t=n.v,n.n=3,t.json();case 3:(i=n.v).success?(m(i.message||"Test email sent successfully!"),v(function(n){return c(c({},n),{},{subject:"",message:"",format:"text"})}),T()):m(i.message||"Failed to send test email"),n.n=5;break;case 4:n.p=4,r=n.v,console.error("Error sending test email:",r),m("Error sending test email. Please try again.");case 5:return n.p=5,S(!1),setTimeout(function(){return m("")},5e3),n.f(5);case 6:return n.a(2)}},n,null,[[1,4,5,6]])}));return function(e){return n.apply(this,arguments)}}();return a?(0,s.jsx)("div",{className:"nin-p-4",children:"Loading..."}):(0,s.jsx)("div",{className:"nin-max-w-4xl nin-mx-auto nin-p-6",children:"ninja-email-test-logs"===P?(0,s.jsx)(g,{restUrl:O,nonce:E}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"nin-mb-8",children:[(0,s.jsx)("h2",{className:"nin-text-2xl nin-font-bold nin-text-gray-800",children:"ninja-email-test-settings"===P?"Ninja Email Test Settings":"Ninja Email Test Dashboard"}),(0,s.jsx)("p",{className:"nin-text-gray-600 nin-mt-2",children:"ninja-email-test-settings"===P?"Configure your plugin settings and preferences":"Manage your plugin settings and configuration"})]}),d&&(0,s.jsx)("div",{className:"nin-mb-4 nin-p-4 nin-bg-green-100 nin-border nin-border-green-400 nin-text-green-700 nin-rounded",children:d}),"ninja-email-test"===P&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"nin-bg-white nin-shadow nin-rounded-lg nin-p-6 nin-mb-6",children:[(0,s.jsx)("h3",{className:"nin-text-xl nin-font-semibold nin-mb-4",children:"Send Test Email"}),(0,s.jsxs)("form",{onSubmit:D,className:"nin-space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"nin-block nin-mb-2 nin-font-medium nin-text-gray-700",children:["Recipient Email ",(0,s.jsx)("span",{className:"nin-text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"email",value:j.to,onChange:function(n){return v(c(c({},j),{},{to:n.target.value}))},required:!0,placeholder:"email@example.com",className:"nin-w-full nin-px-3 nin-py-2 nin-border nin-border-gray-300 nin-rounded focus:nin-outline-none focus:nin-ring-2 focus:nin-ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"nin-block nin-mb-2 nin-font-medium nin-text-gray-700",children:"Subject (optional)"}),(0,s.jsx)("input",{type:"text",value:j.subject,onChange:function(n){return v(c(c({},j),{},{subject:n.target.value}))},placeholder:"Leave empty for default subject",className:"nin-w-full nin-px-3 nin-py-2 nin-border nin-border-gray-300 nin-rounded focus:nin-outline-none focus:nin-ring-2 focus:nin-ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"nin-block nin-mb-2 nin-font-medium nin-text-gray-700",children:"Message (optional)"}),(0,s.jsx)("textarea",{value:j.message,onChange:function(n){return v(c(c({},j),{},{message:n.target.value}))},placeholder:"Leave empty for default message",rows:"5",className:"nin-w-full nin-px-3 nin-py-2 nin-border nin-border-gray-300 nin-rounded focus:nin-outline-none focus:nin-ring-2 focus:nin-ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"nin-block nin-mb-2 nin-font-medium nin-text-gray-700",children:"Email Format"}),(0,s.jsxs)("div",{className:"nin-flex nin-space-x-4",children:[(0,s.jsxs)("label",{className:"nin-flex nin-items-center",children:[(0,s.jsx)("input",{type:"radio",value:"text",checked:"text"===j.format,onChange:function(n){return v(c(c({},j),{},{format:n.target.value}))},className:"nin-mr-2"}),(0,s.jsx)("span",{children:"Plain Text"})]}),(0,s.jsxs)("label",{className:"nin-flex nin-items-center",children:[(0,s.jsx)("input",{type:"radio",value:"html",checked:"html"===j.format,onChange:function(n){return v(c(c({},j),{},{format:n.target.value}))},className:"nin-mr-2"}),(0,s.jsx)("span",{children:"HTML"})]})]})]}),(0,s.jsx)("button",{type:"submit",disabled:w,className:"nin-px-6 nin-py-3 nin-bg-blue-600 nin-text-white nin-rounded-lg hover:nin-bg-blue-700 disabled:nin-opacity-50 disabled:nin-cursor-not-allowed nin-transition-colors",children:w?"Sending...":"Send Test Email"})]})]}),(0,s.jsxs)("div",{className:"nin-bg-white nin-shadow nin-rounded-lg nin-p-6",children:[(0,s.jsx)("h3",{className:"nin-text-xl nin-font-semibold nin-mb-4",children:"Dashboard Overview"}),(0,s.jsxs)("div",{className:"nin-grid nin-grid-cols-1 md:nin-grid-cols-3 nin-gap-4",children:[(0,s.jsxs)("div",{className:"nin-p-4 nin-bg-blue-50 nin-rounded-lg",children:[(0,s.jsx)("div",{className:"nin-text-3xl nin-font-bold nin-text-blue-600",children:h.total||0}),(0,s.jsx)("div",{className:"nin-text-gray-600",children:"Total Emails Logged"})]}),(0,s.jsxs)("div",{className:"nin-p-4 nin-bg-green-50 nin-rounded-lg",children:[(0,s.jsx)("div",{className:"nin-text-3xl nin-font-bold nin-text-green-600",children:h.today||0}),(0,s.jsx)("div",{className:"nin-text-gray-600",children:"Sent Today"})]}),(0,s.jsxs)("div",{className:"nin-p-4 nin-bg-purple-50 nin-rounded-lg",children:[(0,s.jsx)("div",{className:"nin-text-3xl nin-font-bold nin-text-purple-600",children:h.week||0}),(0,s.jsx)("div",{className:"nin-text-gray-600",children:"Sent This Week"})]})]}),(0,s.jsxs)("div",{className:"nin-mt-4 nin-text-sm nin-text-gray-500",children:[(0,s.jsx)("p",{children:"ðŸ“Š Logs are automatically cleaned up after 30 days"}),(0,s.jsx)("p",{children:"ðŸ“§ All outgoing emails from WordPress are captured"})]})]})]}),"ninja-email-test-settings"===P&&(0,s.jsxs)("div",{className:"nin-bg-white nin-shadow nin-rounded-lg nin-p-6",children:[(0,s.jsx)("h3",{className:"nin-text-xl nin-font-semibold nin-mb-4",children:"Settings"}),(0,s.jsxs)("div",{className:"nin-space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"nin-block nin-mb-2 nin-font-medium",children:"Admin Capability"}),(0,s.jsx)("input",{type:"text",value:e.admin_capability||"manage_options",onChange:function(n){return t(c(c({},e),{},{admin_capability:n.target.value}))},className:"nin-w-full nin-px-3 nin-py-2 nin-border nin-rounded"})]}),(0,s.jsx)("button",{onClick:_,disabled:a,className:"nin-px-4 nin-py-2 nin-bg-blue-600 nin-text-white nin-rounded hover:nin-bg-blue-700 disabled:nin-opacity-50",children:a?"Saving...":"Save Settings"})]}),(0,s.jsxs)("div",{className:"nin-mt-8 nin-border-t nin-pt-6",children:[(0,s.jsx)("h4",{className:"nin-text-lg nin-font-semibold nin-mb-4",children:"Plugin Options Inspector"}),(0,s.jsxs)("div",{className:"nin-bg-gray-50 nin-p-4 nin-rounded nin-border",children:[(0,s.jsx)("div",{className:"nin-mb-4",children:(0,s.jsxs)("label",{className:"nin-flex nin-items-center nin-space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.enabled||!1,onChange:function(n){var i=c(c({},e),{},{enabled:n.target.checked});t(i),A(i)},className:"nin-rounded"}),(0,s.jsx)("span",{className:"nin-font-medium",children:"Enable Plugin"})]})}),(0,s.jsx)("p",{className:"nin-text-sm nin-text-gray-600 nin-mb-2",children:"Current plugin options stored in database:"}),(0,s.jsx)("pre",{className:"nin-text-xs nin-bg-white nin-p-3 nin-rounded nin-border nin-overflow-x-auto",children:JSON.stringify(e,null,2)}),(0,s.jsxs)("p",{className:"nin-text-xs nin-text-gray-500 nin-mt-2",children:["Option key: ",(0,s.jsx)("code",{children:"ninja_test_email_options"})]})]})]})]})]})})};document.addEventListener("DOMContentLoaded",function(){var n=document.getElementById("ninja-email-test-admin-root");n&&(0,r.H)(n).render((0,s.jsx)(h,{}))})})();